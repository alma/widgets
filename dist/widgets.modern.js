import e,{useState as t,useEffect as n}from"react";import{IntlProvider as i,FormattedMessage as a,FormattedNumber as r,FormattedDate as l,useIntl as o}from"react-intl";import{unmountComponentAtNode as s,render as c}from"react-dom";import m from"classnames";import u from"react-modal";import d from"no-scroll";import{useMediaQuery as f}from"react-responsive";import{secondsToMilliseconds as g,isToday as p}from"date-fns";var h=function(e){try{return!!e()}catch(e){return!0}},y=!h(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),b=Function.prototype,v=b.call,E=y&&b.bind.bind(v,v),C=y?function(e){return e&&E(e)}:function(e){return e&&function(){return v.apply(e,arguments)}},A=Math.ceil,O=Math.floor,w=function(e){var t=+e;return t!=t||0===t?0:(t>0?O:A)(t)},_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}var P,x,I=function(e){return e&&e.Math==Math&&e},N=I("object"==typeof globalThis&&globalThis)||I("object"==typeof window&&window)||I("object"==typeof self&&self)||I("object"==typeof _&&_)||function(){return this}()||Function("return this")(),M=Object.defineProperty,D=function(e,t){try{M(N,e,{value:t,configurable:!0,writable:!0})}catch(n){N[e]=t}return t},L=N["__core-js_shared__"]||D("__core-js_shared__",{}),j=S(function(e){(e.exports=function(e,t){return L[e]||(L[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"})}),T=N.TypeError,R=function(e){if(null==e)throw T("Can't call method on "+e);return e},F=N.Object,z=function(e){return F(R(e))},k=C({}.hasOwnProperty),H=Object.hasOwn||function(e,t){return k(z(e),t)},G=0,V=Math.random(),B=C(1..toString),U=function(e){return"Symbol("+(void 0===e?"":e)+")_"+B(++G+V,36)},q=function(e){return"function"==typeof e},Z=function(e){return q(e)?e:void 0},J=function(e,t){return arguments.length<2?Z(N[e]):N[e]&&N[e][t]},K=J("navigator","userAgent")||"",W=N.process,Y=N.Deno,Q=W&&W.versions||Y&&Y.version,X=Q&&Q.v8;X&&(x=(P=X.split("."))[0]>0&&P[0]<4?1:+(P[0]+P[1])),!x&&K&&(!(P=K.match(/Edge\/(\d+)/))||P[1]>=74)&&(P=K.match(/Chrome\/(\d+)/))&&(x=+P[1]);var $=x,ee=!!Object.getOwnPropertySymbols&&!h(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&$&&$<41}),te=ee&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ne=j("wks"),ie=N.Symbol,ae=ie&&ie.for,re=te?ie:ie&&ie.withoutSetter||U,le=function(e){if(!H(ne,e)||!ee&&"string"!=typeof ne[e]){var t="Symbol."+e;ne[e]=ee&&H(ie,e)?ie[e]:te&&ae?ae(t):re(t)}return ne[e]},oe={};oe[le("toStringTag")]="z";var se="[object z]"===String(oe),ce=C({}.toString),me=C("".slice),ue=function(e){return me(ce(e),8,-1)},de=le("toStringTag"),fe=N.Object,ge="Arguments"==ue(function(){return arguments}()),pe=se?ue:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=fe(e),de))?n:ge?ue(t):"Object"==(i=ue(t))&&q(t.callee)?"Arguments":i},he=N.String,ye=function(e){if("Symbol"===pe(e))throw TypeError("Cannot convert a Symbol value to a string");return he(e)},be=C("".charAt),ve=C("".charCodeAt),Ee=C("".slice),Ce=function(e){return function(t,n){var i,a,r=ye(R(t)),l=w(n),o=r.length;return l<0||l>=o?e?"":void 0:(i=ve(r,l))<55296||i>56319||l+1===o||(a=ve(r,l+1))<56320||a>57343?e?be(r,l):i:e?Ee(r,l,l+2):a-56320+(i-55296<<10)+65536}},Ae={codeAt:Ce(!1),charAt:Ce(!0)},Oe=C(Function.toString);q(L.inspectSource)||(L.inspectSource=function(e){return Oe(e)});var we,_e,Se,Pe=L.inspectSource,xe=N.WeakMap,Ie=q(xe)&&/native code/.test(Pe(xe)),Ne=function(e){return"object"==typeof e?null!==e:q(e)},Me=!h(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),De=N.document,Le=Ne(De)&&Ne(De.createElement),je=function(e){return Le?De.createElement(e):{}},Te=!Me&&!h(function(){return 7!=Object.defineProperty(je("div"),"a",{get:function(){return 7}}).a}),Re=Me&&h(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Fe=N.String,ze=N.TypeError,ke=function(e){if(Ne(e))return e;throw ze(Fe(e)+" is not an object")},He=Function.prototype.call,Ge=y?He.bind(He):function(){return He.apply(He,arguments)},Ve=C({}.isPrototypeOf),Be=N.Object,Ue=te?function(e){return"symbol"==typeof e}:function(e){var t=J("Symbol");return q(t)&&Ve(t.prototype,Be(e))},qe=N.String,Ze=function(e){try{return qe(e)}catch(e){return"Object"}},Je=N.TypeError,Ke=function(e){if(q(e))return e;throw Je(Ze(e)+" is not a function")},We=function(e,t){var n=e[t];return null==n?void 0:Ke(n)},Ye=N.TypeError,Qe=N.TypeError,Xe=le("toPrimitive"),$e=function(e){var t=function(e,t){if(!Ne(e)||Ue(e))return e;var n,i=We(e,Xe);if(i){if(void 0===t&&(t="default"),n=Ge(i,e,t),!Ne(n)||Ue(n))return n;throw Qe("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,i;if("string"===t&&q(n=e.toString)&&!Ne(i=Ge(n,e)))return i;if(q(n=e.valueOf)&&!Ne(i=Ge(n,e)))return i;if("string"!==t&&q(n=e.toString)&&!Ne(i=Ge(n,e)))return i;throw Ye("Can't convert object to primitive value")}(e,t)}(e,"string");return Ue(t)?t:t+""},et=N.TypeError,tt=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,it={f:Me?Re?function(e,t,n){if(ke(e),t=$e(t),ke(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var i=nt(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return tt(e,t,n)}:tt:function(e,t,n){if(ke(e),t=$e(t),ke(n),Te)try{return tt(e,t,n)}catch(e){}if("get"in n||"set"in n)throw et("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},at=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},rt=Me?function(e,t,n){return it.f(e,t,at(1,n))}:function(e,t,n){return e[t]=n,e},lt=j("keys"),ot=function(e){return lt[e]||(lt[e]=U(e))},st={},ct=N.TypeError;if(Ie||L.state){var mt=L.state||(L.state=new(0,N.WeakMap)),ut=C(mt.get),dt=C(mt.has),ft=C(mt.set);we=function(e,t){if(dt(mt,e))throw new ct("Object already initialized");return t.facade=e,ft(mt,e,t),t},_e=function(e){return ut(mt,e)||{}},Se=function(e){return dt(mt,e)}}else{var gt=ot("state");st[gt]=!0,we=function(e,t){if(H(e,gt))throw new ct("Object already initialized");return t.facade=e,rt(e,gt,t),t},_e=function(e){return H(e,gt)?e[gt]:{}},Se=function(e){return H(e,gt)}}var pt,ht={set:we,get:_e,has:Se,enforce:function(e){return Se(e)?_e(e):we(e,{})},getterFor:function(e){return function(t){var n;if(!Ne(t)||(n=_e(t)).type!==e)throw ct("Incompatible receiver, "+e+" required");return n}}},yt={}.propertyIsEnumerable,bt=Object.getOwnPropertyDescriptor,vt={f:bt&&!yt.call({1:2},1)?function(e){var t=bt(this,e);return!!t&&t.enumerable}:yt},Et=N.Object,Ct=C("".split),At=h(function(){return!Et("z").propertyIsEnumerable(0)})?function(e){return"String"==ue(e)?Ct(e,""):Et(e)}:Et,Ot=function(e){return At(R(e))},wt=Object.getOwnPropertyDescriptor,_t={f:Me?wt:function(e,t){if(e=Ot(e),t=$e(t),Te)try{return wt(e,t)}catch(e){}if(H(e,t))return at(!Ge(vt.f,e,t),e[t])}},St=Function.prototype,Pt=Me&&Object.getOwnPropertyDescriptor,xt=H(St,"name"),It={EXISTS:xt,PROPER:xt&&"something"===function(){}.name,CONFIGURABLE:xt&&(!Me||Me&&Pt(St,"name").configurable)},Nt=S(function(e){var t=It.CONFIGURABLE,n=ht.enforce,i=ht.get,a=Object.defineProperty,r=Me&&!h(function(){return 8!==a(function(){},"length",{value:8}).length}),l=String(String).split("String"),o=e.exports=function(e,i,o){if("Symbol("===String(i).slice(0,7)&&(i="["+String(i).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),o&&o.getter&&(i="get "+i),o&&o.setter&&(i="set "+i),(!H(e,"name")||t&&e.name!==i)&&a(e,"name",{value:i,configurable:!0}),r&&o&&H(o,"arity")&&e.length!==o.arity&&a(e,"length",{value:o.arity}),o&&H(o,"constructor")&&o.constructor){if(Me)try{a(e,"prototype",{writable:!1})}catch(e){}}else e.prototype=void 0;var s=n(e);return H(s,"source")||(s.source=l.join("string"==typeof i?i:"")),e};Function.prototype.toString=o(function(){return q(this)&&i(this).source||Pe(this)},"toString")}),Mt=function(e,t,n,i){var a=!!i&&!!i.unsafe,r=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet,o=i&&void 0!==i.name?i.name:t;return q(n)&&Nt(n,o,i),e===N?(r?e[t]=n:D(t,n),e):(a?!l&&e[t]&&(r=!0):delete e[t],r?e[t]=n:rt(e,t,n),e)},Dt=Math.max,Lt=Math.min,jt=Math.min,Tt=function(e){return(t=e.length)>0?jt(w(t),9007199254740991):0;var t},Rt=function(e){return function(t,n,i){var a,r=Ot(t),l=Tt(r),o=function(e,t){var n=w(e);return n<0?Dt(n+t,0):Lt(n,t)}(i,l);if(e&&n!=n){for(;l>o;)if((a=r[o++])!=a)return!0}else for(;l>o;o++)if((e||o in r)&&r[o]===n)return e||o||0;return!e&&-1}},Ft=(Rt(!0),Rt(!1)),zt=C([].push),kt=function(e,t){var n,i=Ot(e),a=0,r=[];for(n in i)!H(st,n)&&H(i,n)&&zt(r,n);for(;t.length>a;)H(i,n=t[a++])&&(~Ft(r,n)||zt(r,n));return r},Ht=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Gt=Ht.concat("length","prototype"),Vt={f:Object.getOwnPropertyNames||function(e){return kt(e,Gt)}},Bt={f:Object.getOwnPropertySymbols},Ut=C([].concat),qt=J("Reflect","ownKeys")||function(e){var t=Vt.f(ke(e)),n=Bt.f;return n?Ut(t,n(e)):t},Zt=function(e,t,n){for(var i=qt(t),a=it.f,r=_t.f,l=0;l<i.length;l++){var o=i[l];H(e,o)||n&&H(n,o)||a(e,o,r(t,o))}},Jt=/#|\.prototype\./,Kt=function(e,t){var n=Yt[Wt(e)];return n==Xt||n!=Qt&&(q(t)?h(t):!!t)},Wt=Kt.normalize=function(e){return String(e).replace(Jt,".").toLowerCase()},Yt=Kt.data={},Qt=Kt.NATIVE="N",Xt=Kt.POLYFILL="P",$t=Kt,en=_t.f,tn=function(e,t){var n,i,a,r,l,o=e.target,s=e.global,c=e.stat;if(n=s?N:c?N[o]||D(o,{}):(N[o]||{}).prototype)for(i in t){if(r=t[i],a=e.noTargetGet?(l=en(n,i))&&l.value:n[i],!$t(s?i:o+(c?".":"#")+i,e.forced)&&void 0!==a){if(typeof r==typeof a)continue;Zt(r,a)}(e.sham||a&&a.sham)&&rt(r,"sham",!0),Mt(n,i,r,e)}},nn=Object.keys||function(e){return kt(e,Ht)},an={f:Me&&!Re?Object.defineProperties:function(e,t){ke(e);for(var n,i=Ot(t),a=nn(t),r=a.length,l=0;r>l;)it.f(e,n=a[l++],i[n]);return e}},rn=J("document","documentElement"),ln=ot("IE_PROTO"),on=function(){},sn=function(e){return"<script>"+e+"<\/script>"},cn=function(e){e.write(sn("")),e.close();var t=e.parentWindow.Object;return e=null,t},mn=function(){try{pt=new ActiveXObject("htmlfile")}catch(e){}var e,t;mn="undefined"!=typeof document?document.domain&&pt?cn(pt):((t=je("iframe")).style.display="none",rn.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(sn("document.F=Object")),e.close(),e.F):cn(pt);for(var n=Ht.length;n--;)delete mn.prototype[Ht[n]];return mn()};st[ln]=!0;var un,dn,fn,gn=Object.create||function(e,t){var n;return null!==e?(on.prototype=ke(e),n=new on,on.prototype=null,n[ln]=e):n=mn(),void 0===t?n:an.f(n,t)},pn=!h(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),hn=ot("IE_PROTO"),yn=N.Object,bn=yn.prototype,vn=pn?yn.getPrototypeOf:function(e){var t=z(e);if(H(t,hn))return t[hn];var n=t.constructor;return q(n)&&t instanceof n?n.prototype:t instanceof yn?bn:null},En=le("iterator"),Cn=!1;[].keys&&("next"in(fn=[].keys())?(dn=vn(vn(fn)))!==Object.prototype&&(un=dn):Cn=!0),(null==un||h(function(){var e={};return un[En].call(e)!==e}))&&(un={}),q(un[En])||Mt(un,En,function(){return this});var An={IteratorPrototype:un,BUGGY_SAFARI_ITERATORS:Cn},On=it.f,wn=le("toStringTag"),_n=function(e,t,n){e&&!n&&(e=e.prototype),e&&!H(e,wn)&&On(e,wn,{configurable:!0,value:t})},Sn={},Pn=An.IteratorPrototype,xn=function(){return this},In=N.String,Nn=N.TypeError,Mn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=C(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return ke(n),function(e){if("object"==typeof e||q(e))return e;throw Nn("Can't set "+In(e)+" as a prototype")}(i),t?e(n,i):n.__proto__=i,n}}():void 0),Dn=An.IteratorPrototype,Ln=An.BUGGY_SAFARI_ITERATORS,jn=le("iterator"),Tn=function(){return this},Rn=Ae.charAt,Fn=ht.set,zn=ht.getterFor("String Iterator");!function(e,t,n,i,a,r,l){!function(e,t,n,i){e.prototype=gn(Pn,{next:at(1,function(){var e,t=zn(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=Rn(n,i),t.index+=e.length,{value:e,done:!1})})}),_n(e,"String Iterator",!1),Sn["String Iterator"]=xn}(n);var o,s,c,m=function(e){if(void 0===e&&f)return f;if(!Ln&&e in u)return u[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},u=e.prototype,d=u[jn]||u["@@iterator"]||void 0,f=!Ln&&d||m(void 0);if(void(d&&(o=vn(d.call(new e)))!==Object.prototype&&o.next&&(vn(o)!==Dn&&(Mn?Mn(o,Dn):q(o[jn])||Mt(o,jn,Tn)),_n(o,"String Iterator",!0))))if(void(s={values:m("values"),keys:m("keys"),entries:m("entries")}))for(c in s)(Ln||!(c in u))&&Mt(u,c,s[c]);else tn({target:"String",proto:!0,forced:Ln||!1},s);u[jn]!==f&&Mt(u,jn,f,{name:void 0}),Sn.String=f}(String,0,function(e){Fn(this,{type:"String Iterator",string:ye(e),index:0})});var kn=C(C.bind),Hn=function(e,t){return Ke(e),void 0===t?e:y?kn(e,t):function(){return e.apply(t,arguments)}},Gn=function(e,t,n,i){try{return i?t(ke(n)[0],n[1]):t(n)}catch(t){!function(e,t,n){var i;ke(e);try{if(!(i=We(e,"return")))throw n;i=Ge(i,e)}catch(e){i=e}throw n}(e,0,t)}},Vn=le("iterator"),Bn=Array.prototype,Un=function(e){return void 0!==e&&(Sn.Array===e||Bn[Vn]===e)},qn=function(){},Zn=[],Jn=J("Reflect","construct"),Kn=/^\s*(?:class|function)\b/,Wn=C(Kn.exec),Yn=!Kn.exec(qn),Qn=function(e){if(!q(e))return!1;try{return Jn(qn,Zn,e),!0}catch(e){return!1}},Xn=function(e){if(!q(e))return!1;switch(pe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Yn||!!Wn(Kn,Pe(e))}catch(e){return!0}};Xn.sham=!0;var $n=!Jn||h(function(){var e;return Qn(Qn.call)||!Qn(Object)||!Qn(function(){e=!0})||e})?Xn:Qn,ei=function(e,t,n){var i=$e(t);i in e?it.f(e,i,at(0,n)):e[i]=n},ti=le("iterator"),ni=function(e){if(null!=e)return We(e,ti)||We(e,"@@iterator")||Sn[pe(e)]},ii=N.TypeError,ai=function(e,t){var n=arguments.length<2?ni(e):t;if(Ke(n))return ke(Ge(n,e));throw ii(Ze(e)+" is not iterable")},ri=N.Array,li=le("iterator"),oi=!1;try{var si=0,ci={next:function(){return{done:!!si++}},return:function(){oi=!0}};ci[li]=function(){return this},Array.from(ci,function(){throw 2})}catch(e){}var mi,ui,di,fi,gi=!function(e,t){if(!oi)return!1;var n=!1;try{var i={};i[li]=function(){return{next:function(){return{done:n=!0}}}},Array.from(i)}catch(e){}return n}();function pi(e){return Math.round(100*e)}function hi(e){return Number((e/100).toFixed(2))}function yi(e){return String(hi(e)).replace(".",",")}tn({target:"Array",stat:!0,forced:gi},{from:function(e){var t=z(e),n=$n(this),i=arguments.length,a=i>1?arguments[1]:void 0,r=void 0!==a;r&&(a=Hn(a,i>2?arguments[2]:void 0));var l,o,s,c,m,u,d=ni(t),f=0;if(!d||this==ri&&Un(d))for(l=Tt(t),o=n?new this(l):ri(l);l>f;f++)u=r?a(t[f],f):t[f],ei(o,f,u);else for(m=(c=ai(t,d)).next,o=n?new this:[];!(s=Ge(m,c)).done;f++)u=r?Gn(c,a,[s.value,f],!0):s.value,ei(o,f,u);return o.length=f,o}}),function(e){e.PaymentPlans="PaymentPlans",e.Modal="Modal"}(mi||(mi={})),function(e){e.PENDING="pending",e.SUCCESS="success",e.FAILED="failed"}(ui||(ui={})),function(e){e.en="en",e.fr="fr",e.de="de",e.it="it",e.es="es",e.nl="nl",e["nl-NL"]="nl-NL",e["nl-BE"]="nl-BE"}(di||(di={})),"function"!=typeof(fi=window.Element.prototype).matches&&(fi.matches=fi.msMatchesSelector||fi.mozMatchesSelector||fi.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return Boolean(t[n])}),"function"!=typeof fi.closest&&(fi.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),"".trim||(String.prototype.trim=function(){return this.replace(/^[\s﻿]+|[\s﻿]+$/g,"")}),function(e){e.DOMException||((DOMException=function(e){this.message=e}).prototype=new Error);var t,n,i=/[\11\12\14\15\40]/,a=0,r=function(e,t){if(""===t)throw new DOMException("Failed to execute '"+e+"' on 'DOMTokenList': The token provided must not be empty.");if(-1!==(a=t.search(i)))throw new DOMException("Failed to execute '"+e+"' on 'DOMTokenList': The token provided ('"+t[a]+"') contains HTML space characters, which are not valid in tokens.")};"function"!=typeof DOMTokenList&&function(e){var t=e.document,n=e.Object,a=n.prototype.hasOwnProperty,l=n.defineProperty,o=0,s=0,c=function(){if(!o)throw TypeError("Illegal constructor")};function m(){var t=e.event,n=t.propertyName;if(!s&&("className"===n||"classList"===n&&!l)){var a=t.srcElement,r=a[" uCLp"],o=""+a[n],c=o.trim().split(i),m=a["classList"===n?" uCL":"classList"],u=r.length;e:for(var d=0,f=r.length=c.length,g=0;d!==f;++d){for(var p=0;p!==d;++p)if(c[p]===c[d]){g++;continue e}m[d-g]=c[d]}for(var h=f-g;h<u;++h)delete m[h];if("classList"!==n)return;s=1,a.classList=m,a.className=o,s=0,m.length=c.length-g}}function u(e){if(!e||!("innerHTML"in e))throw TypeError("Illegal invocation");e.detachEvent("onpropertychange",m),o=1;try{var t=function(){};t.prototype=new c}finally{o=0}var n=t.prototype,a=new t;e:for(var r=e.className.trim().split(i),u=0,d=r.length,f=0;u!==d;++u){for(var g=0;g!==u;++g)if(r[g]===r[u]){f++;continue e}this[u-f]=r[u]}n.length=d-f,n.value=e.className,n[" uCL"]=e,l?(l(e,"classList",{enumerable:1,get:function(){return a},configurable:0,set:function(t){s=1,e.className=n.value=t+="",s=0;var r=t.trim().split(i),l=n.length;e:for(var o=0,c=n.length=r.length,m=0;o!==c;++o){for(var u=0;u!==o;++u)if(r[u]===r[o]){m++;continue e}a[o-m]=r[o]}for(var d=c-m;d<l;++d)delete a[d]}}),l(e," uCLp",{enumerable:0,configurable:0,writeable:0,value:t.prototype}),l(n," uCL",{enumerable:0,configurable:0,writeable:0,value:e})):(e.classList=a,e[" uCL"]=a,e[" uCLp"]=t.prototype),e.attachEvent("onpropertychange",m)}c.prototype.toString=c.prototype.toLocaleString=function(){return this.value},c.prototype.add=function(){e:for(var e=0,t=arguments.length,n="",i=this[" uCL"],a=i[" uCLp"];e!==t;++e){r("add",n=arguments[e]+"");for(var l=0,o=a.length,c=n;l!==o;++l){if(this[l]===n)continue e;c+=" "+this[l]}this[o]=n,a.length+=1,a.value=c}s=1,i.className=a.value,s=0},c.prototype.remove=function(){for(var e=0,t=arguments.length,n="",i=this[" uCL"],a=i[" uCLp"];e!==t;++e){r("remove",n=arguments[e]+"");for(var l=0,o=a.length,c="",m=0;l!==o;++l)m?this[l-1]=this[l]:this[l]!==n?c+=this[l]+" ":m=1;m&&(delete this[o],a.length-=1,a.value=c)}s=1,i.className=a.value,s=0},e.DOMTokenList=c;try{e.Object.defineProperty(e.Element.prototype,"classList",{enumerable:1,get:function(e){return a.call(this,"classList")||u(this),this.classList},configurable:0,set:function(e){this.className=e}})}catch(n){e[" uCL"]=u,t.documentElement.firstChild.appendChild(t.createElement("style")).styleSheet.cssText='_*{x-uCLp:expression(!this.hasOwnProperty("classList")&&window[" uCL"](this))}[class]{x-uCLp/**/:expression(!this.hasOwnProperty("classList")&&window[" uCL"](this))}'}}(e),t=e.DOMTokenList.prototype,n=e.document.createElement("div").classList,t.item||(t.item=function(e){return void 0===(t=this[e])?null:t;var t}),t.toggle&&!1===n.toggle("a",0)||(t.toggle=function(e){if(arguments.length>1)return this[arguments[1]?"add":"remove"](e),!!arguments[1];var t=this.value;return this.remove(t),t===this.value&&(this.add(e),!0)}),t.replace&&"boolean"==typeof n.replace("a","b")||(t.replace=function(e,t){r("replace",e),r("replace",t);var n=this.value;return this.remove(e),this.value!==n&&(this.add(t),!0)}),t.contains||(t.contains=function(e){for(var t=0,n=this.length;t!==n;++t)if(this[t]===e)return!0;return!1}),t.forEach||(t.forEach=function(e){if(1===arguments.length)for(var t=0,n=this.length;t!==n;++t)e(this[t],t,this);else{t=0,n=this.length;for(var i=arguments[1];t!==n;++t)e.call(i,this[t],t,this)}}),t.entries||(t.entries=function(){var e=this;return{next:function(){return 0<e.length?{value:[0,e[0]],done:!1}:{done:!0}}}}),t.values||(t.values=function(){var e=this;return{next:function(){return 0<e.length?{value:e[0],done:!1}:{done:!0}}}}),t.keys||(t.keys=function(){var e=this;return{next:function(){return 0<e.length?{value:0,done:!1}:{done:!0}}}})}(window);var bi={"eligibility-modal.bullet-1":"Wählen Sie an der Kasse <strong>Alma</strong> .","eligibility-modal.bullet-2":"Füllen Sie die <strong>angeforderten</strong> Informationen aus.","eligibility-modal.bullet-3":"Die Bestätigung Ihrer Zahlung <strong>sofort</strong> !","eligibility-modal.cost":"Davon Kosten","eligibility-modal.credit-commitment":"Ein Kredit verpflichtet Sie und muss zurückgezahlt werden. Prüfen Sie Ihre Rückzahlungsfähigkeit, bevor Sie sich verpflichten.","eligibility-modal.credit-cost":"Davon Kreditkosten","eligibility-modal.credit-cost-amount":"{creditCost} (APR {TAEG})","eligibility-modal.no-eligibility":"Ups, die Simulation hat anscheinend nicht funktioniert.","eligibility-modal.title":"<highlighted>Bezahlen Sie in Raten</highlighted> per Kreditkarte mit Alma.","eligibility-modal.title-deferred":"<highlighted>Bezahlen Sie in Raten</highlighted> oder später per Kreditkarte mit Alma.","eligibility-modal.total":"Insgesamt","installments.today":"Heute","payment-plan-strings.day-abbreviation":"T{numberOfDeferredDays}","payment-plan-strings.default-message":"Bezahlen Sie in Raten mit Alma","payment-plan-strings.deferred":"{totalAmount} zu zahlen am {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Bis zu {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"Ab {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} dann {numberOfRemainingInstallments} x {othersInstallmentAmount}} other {{firstInstallmentAmount} dann {numberOfRemainingInstallments} x {othersInstallmentAmount}}}","payment-plan-strings.multiple-installments-same-amount":"{installmentsCount} x {totalAmount}","payment-plan-strings.no-fee":"(gebührenfrei)"},vi={"eligibility-modal.bullet-1":"Choose <strong>Alma</strong> at checkout.","eligibility-modal.bullet-2":"Fill in the <strong>information</strong> requested.","eligibility-modal.bullet-3":"Validation of your payment <strong>instantaneous</strong>!","eligibility-modal.cost":"Of which costs","eligibility-modal.credit-commitment":"A loan commits you and must be repaid. Check your ability to repay before committing yourself.","eligibility-modal.credit-cost":"Of which cost of credit","eligibility-modal.credit-cost-amount":"{creditCost} (APR {TAEG})","eligibility-modal.no-eligibility":"Oops, looks like the simulation didn't work.","eligibility-modal.title":"<highlighted>Pay in installments</highlighted> by credit card with Alma.","eligibility-modal.title-deferred":"<highlighted>Pay in installments</highlighted> or later by credit card with Alma.","eligibility-modal.total":"Total","installments.today":"Today","payment-plan-strings.day-abbreviation":"T{numberOfDeferredDays}","payment-plan-strings.default-message":"Pay in installments with Alma","payment-plan-strings.deferred":"{totalAmount} to be paid on {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Until {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"From {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} then {numberOfRemainingInstallments} x {othersInstallmentAmount}} other {{firstInstallmentAmount} then {numberOfRemainingInstallments} x {othersInstallmentAmount}}}","payment-plan-strings.multiple-installments-same-amount":"{installmentsCount} x {totalAmount}","payment-plan-strings.no-fee":"(free of charge)"},Ei={"eligibility-modal.bullet-1":"Elige <strong>Alma</strong> como método de pago.","eligibility-modal.bullet-2":"Completa la <strong>información</strong> solicitada.","eligibility-modal.bullet-3":"¡Validación <strong>inmediata</strong> de tu pago!","eligibility-modal.cost":"Gastos (incl. en el total)","eligibility-modal.credit-commitment":"Un préstamo te compromete y debe ser devuelto. Comprueba tu capacidad financiera antes de comprometerte.","eligibility-modal.credit-cost":"Coste de crédito (incl. en el total)","eligibility-modal.credit-cost-amount":"{creditCost} (TAE {TAEG})","eligibility-modal.no-eligibility":"Uy, parece que la simulación no ha funcionado.","eligibility-modal.title":"<highlighted>Paga a plazos</highlighted> con tu tarjeta, a través de Alma.","eligibility-modal.title-deferred":"<highlighted>Paga a plazos</highlighted> o más adelante con tu tarjeta, a través de Alma.","eligibility-modal.total":"Total","installments.today":"Hoy","payment-plan-strings.day-abbreviation":"D{numberOfDeferredDays}","payment-plan-strings.default-message":"Pagar a plazos con Alma","payment-plan-strings.deferred":"{totalAmount} a pagar el {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Hasta {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"Desde {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} hoy, después {numberOfRemainingInstallments} mensualidad de {othersInstallmentAmount}} other {{firstInstallmentAmount} hoy, después {numberOfRemainingInstallments} mensualidades de {othersInstallmentAmount}}}","payment-plan-strings.multiple-installments-same-amount":"{installmentsCount} plazos de {totalAmount}","payment-plan-strings.no-fee":"(sin intereses)"},Ci={"eligibility-modal.bullet-1":"Choisissez <strong>Alma</strong> au moment du paiement.","eligibility-modal.bullet-2":"Renseignez les <strong>informations</strong> demandées.","eligibility-modal.bullet-3":"La validation de votre paiement <strong>instantanée</strong> !","eligibility-modal.cost":"Dont frais","eligibility-modal.credit-commitment":"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.","eligibility-modal.credit-cost":"Dont coût du crédit","eligibility-modal.credit-cost-amount":"{creditCost} (TAEG {TAEG})","eligibility-modal.no-eligibility":"Oups, il semblerait que la simulation n'ait pas fonctionné.","eligibility-modal.title":"<highlighted>Payez en plusieurs fois</highlighted> par carte bancaire avec Alma.","eligibility-modal.title-deferred":"<highlighted>Payez en plusieurs fois</highlighted> ou plus tard par carte bancaire avec Alma.","eligibility-modal.total":"Total","installments.today":"Aujourd'hui","payment-plan-strings.day-abbreviation":"J{numberOfDeferredDays}","payment-plan-strings.default-message":"Payez en plusieurs fois avec Alma","payment-plan-strings.deferred":"{totalAmount} à payer le {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Jusqu'à {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"À partir de {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} puis {numberOfRemainingInstallments} x {othersInstallmentAmount}} other {{firstInstallmentAmount} puis {numberOfRemainingInstallments} x {othersInstallmentAmount}}}","payment-plan-strings.multiple-installments-same-amount":"{installmentsCount} x {totalAmount}","payment-plan-strings.no-fee":"(sans frais)"},Ai={"eligibility-modal.bullet-1":"Scegli <strong>Alma</strong> alla cassa.","eligibility-modal.bullet-2":"Compila le informazioni <strong></strong> richieste.","eligibility-modal.bullet-3":"Convalida del tuo pagamento <strong>istantanea</strong>!","eligibility-modal.cost":"Di cui commissioni","eligibility-modal.credit-commitment":"Un pagamento rateale ti impegna e deve essere ripagato. Verifica la tua capacità di rimborso prima di impegnarti.","eligibility-modal.credit-cost":"Di cui commissioni","eligibility-modal.credit-cost-amount":"{creditCost} (TAEG {TAEG})","eligibility-modal.no-eligibility":"Ops, sembra che la simulazione non abbia funzionato.","eligibility-modal.title":"<highlighted>Paga a rate</highlighted> con Alma, senza interessi.","eligibility-modal.title-deferred":"<highlighted>Paga a rate</highlighted> o posticipa il pagamento con Alma, senza interessi.","eligibility-modal.total":"Totale","installments.today":"Oggi","payment-plan-strings.day-abbreviation":"G{numberOfDeferredDays}","payment-plan-strings.default-message":"Paga a rate con Alma","payment-plan-strings.deferred":"{totalAmount} da pagare il {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Disponibile fino a {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"Pagamento rateale disponibile a partire da {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {Oggi paghi {firstInstallmentAmount} poi tra {numberOfRemainingInstallments} mese {othersInstallmentAmount}} other {Oggi paghi {firstInstallmentAmount} poi {numberOfRemainingInstallments} rate mensili di {othersInstallmentAmount}}}","payment-plan-strings.multiple-installments-same-amount":"In {installmentsCount} rate mensili di {totalAmount}","payment-plan-strings.no-fee":"(senza interessi)"},Oi={"eligibility-modal.bullet-1":"Kies <strong>Alma</strong> bij het afrekenen.","eligibility-modal.bullet-2":"Vul de <strong>gevraagde informatie</strong> in.","eligibility-modal.bullet-3":"Onmiddelijke validatie van uw betaling ","eligibility-modal.cost":"Waarvan kosten","eligibility-modal.credit-commitment":"Een lening bindt je en moet worden terugbetaald. Ga na of u kunt terugbetalen voordat u zich vastlegt.","eligibility-modal.credit-cost":"Waarvan kosten van krediet","eligibility-modal.credit-cost-amount":"{creditCost} (APR {TAEG})","eligibility-modal.no-eligibility":"Oeps, het lijkt erop dat de simulatie niet werkte.","eligibility-modal.title":"<highlighted>Betaal in termijnen</highlighted> met kredietkaart bij Alma.","eligibility-modal.title-deferred":"<highlighted>Betaal in termijnen</highlighted> of later per credit card met Alma.","eligibility-modal.total":"Totaal","installments.today":"Tegenwoordig","payment-plan-strings.day-abbreviation":"J{numberOfDeferredDays}","payment-plan-strings.default-message":"Betaal in termijnen met Alma","payment-plan-strings.deferred":"{totalAmount} te betalen op {dueDate}","payment-plan-strings.ineligible-greater-than-max":"Tot {maxAmount}","payment-plan-strings.ineligible-lower-than-min":"Van {minAmount}","payment-plan-strings.multiple-installments":"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} dan {numberOfRemainingInstallments} x {othersInstallmentAmount}} other {{firstInstallmentAmount} dan {numberOfRemainingInstallments} x {othersInstallmentAmount}}}","payment-plan-strings.multiple-installments-same-amount":"{installmentsCount} x {totalAmount}","payment-plan-strings.no-fee":"(gratis)"};const wi=e=>{switch(e){case di.fr:return Ci;case di.es:return Ei;case di.it:return Ai;case di.de:return bi;case di.nl:case di["nl-BE"]:case di["nl-NL"]:return Oi;case di.en:default:return vi}},_i=({children:t,locale:n})=>e.createElement(i,{messages:wi(n),locale:n,defaultLocale:"en"},t);function Si(){return(Si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const Pi=(e,t)=>!!e.eligible&&!!t&&e.purchase_amount>=(null==t?void 0:t.minAmount)&&e.purchase_amount<=(null==t?void 0:t.maxAmount),xi=(e,t)=>{const n=e.filter(e=>!(1===e.installments_count&&0===e.deferred_days&&0===e.deferred_months));return t?n.map(e=>{const n=30*(e.deferred_months?e.deferred_months:0)+(e.deferred_days?e.deferred_days:0),i=t.find(t=>e.installments_count===t.installmentsCount&&n===30*(t.deferredMonths?t.deferredMonths:0)+(t.deferredDays?t.deferredDays:0));return Si({},e,{eligible:Pi(e,i)},((e,t)=>{var n;const i=null==(n=e.constraints)?void 0:n.purchase_amount;return i&&t?{minAmount:Math.max(t.minAmount,null==i?void 0:i.minimum),maxAmount:Math.min(t.maxAmount,null==i?void 0:i.maximum)}:null!=t?t:{}})(e,i))}):n},Ii=(e,{domain:i,merchantId:a},r)=>{const[l,o]=t([]),[s,c]=t(ui.PENDING),m=null==r?void 0:r.map(e=>({installments_count:e.installmentsCount,deferred_days:null==e?void 0:e.deferredDays,deferred_months:null==e?void 0:e.deferredMonths}));return n(()=>{s===ui.PENDING&&async function(e="",t,n){return(await fetch(e,{method:"POST",headers:Si({"Content-Type":"application/json"},n),body:JSON.stringify(t)})).json()}(i+"/v2/payments/eligibility",{purchase_amount:e,queries:m},{Authorization:"Alma-Merchant-Auth "+a}).then(e=>{o(e),c(ui.SUCCESS)}).catch(()=>{c(ui.FAILED)})},[s]),[xi(l,r),s]},Ni=({className:t})=>e.createElement("div",{className:m("_31lrj",t),"data-testid":"loader"},e.createElement("div",{className:"_2p94X"},"a"),e.createElement("div",{className:"_1k0PM"}));function Mi({color:t="#fff",className:n}){return e.createElement("svg",{className:n,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M12.5964 11.404L9.41445 8.22205L12.5964 5.04007C12.7732 4.86329 12.7732 4.50974 12.5964 4.33296L11.8893 3.62585C11.6904 3.42698 11.359 3.44908 11.1822 3.62585L8.00023 6.80783L4.81825 3.62585C4.61938 3.42698 4.28792 3.44908 4.11114 3.62585L3.40404 4.33296C3.20516 4.53183 3.20516 4.84119 3.40404 5.04007L6.58602 8.22205L3.40404 11.404C3.20516 11.6029 3.20517 11.9123 3.40404 12.1111L4.11115 12.8182C4.28792 12.995 4.61938 13.0171 4.81825 12.8182L8.00023 9.63626L11.1822 12.8182C11.359 12.995 11.6904 13.0171 11.8893 12.8182L12.5964 12.1111C12.7732 11.9344 12.7732 11.5808 12.5964 11.404Z",fill:t}))}const Di="alma-eligibility-modal",Li={leftSide:Di+"-left-side",rightSide:Di+"-right-side",title:Di+"-title",info:Di+"-info",infoMessage:Di+"-info-message",eligibilityOptions:Di+"-eligibility-options",activeOption:Di+"-active-option",closeButton:Di+"-close-button",scheduleDetails:Di+"-schedule-details",scheduleTotal:Di+"-schedule-total",scheduleCredit:Di+"-schedule-credit",cardContainer:Di+"-card-logos",summary:Di+"-summary"},ji=["children","isOpen","onClose","className","contentClassName","scrollable"],Ti=t=>{let{children:n,isOpen:i,onClose:a,className:r,contentClassName:l,scrollable:o=!1}=t,s=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t.indexOf(n=r[i])>=0||(a[n]=e[n]);return a}(t,ji);return u.setAppElement("body"),e.createElement(u,Object.assign({className:m("_D8SjB",r),overlayClassName:"_1yxCb",onAfterOpen:()=>{d.on()},onAfterClose:()=>{d.off()},onRequestClose:a,isOpen:i,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0},s),e.createElement("div",{className:"_12LLh"},e.createElement("button",{onClick:a,className:m("_3YRro",Li.closeButton),"data-testid":"modal-close-button"},e.createElement(Mi,null))),e.createElement("div",{className:m("_ocM9x",l,{_1GP2F:o})},n))},Ri=t=>{const{deferred_days:n,deferred_months:i,installments_count:r}=t,l=n+30*i;return 1===r?e.createElement(a,{id:"payment-plan-strings.day-abbreviation",defaultMessage:"J{numberOfDeferredDays}",values:{numberOfDeferredDays:l>0?"+"+l:""}}):r+"x"},Fi=t=>{var n;if(null!=(n=t.payment_plan)&&n.every(e=>0===e.customer_fee&&0===e.customer_interest))return e.createElement(e.Fragment,null," ",e.createElement(a,{id:"payment-plan-strings.no-fee",defaultMessage:"(sans frais)"}))},zi=({eligibilityPlans:t,currentPlanIndex:n,setCurrentPlanIndex:i})=>e.createElement("div",{className:m("_1l2Oa",Li.eligibilityOptions)},t.map((t,a)=>e.createElement("button",{key:a,className:m({[m("_3rue7",Li.activeOption)]:a===n}),onClick:()=>i(a)},Ri(t)))),ki=({currentPlan:t})=>{const n=t&&hi(t.purchase_amount+t.customer_total_cost_amount),i=t?hi(t.customer_total_cost_amount):0,s=(null==t?void 0:t.annual_interest_rate)&&t.annual_interest_rate/1e4,c=hi(t?t.customer_total_cost_amount:0),u=t&&t.installments_count>4,d=o();return e.createElement(e.Fragment,null,e.createElement("div",{className:m("_MPKjS",Li.scheduleDetails),"data-testid":"modal-installments-element"},((null==t?void 0:t.payment_plan)||[]).map((t,n)=>e.createElement("div",{className:"_1A7Qv",key:n},e.createElement("span",null,p(1e3*t.due_date)?e.createElement(a,{id:"installments.today",defaultMessage:"Aujourd'hui"}):e.createElement(l,{value:1e3*t.due_date,day:"numeric",month:"long",year:"numeric"})),e.createElement("span",null,e.createElement(r,{value:hi(t.total_amount),style:"currency",currency:"EUR"}))))),e.createElement("div",{className:m("_65ZpD",Li.summary),"data-testid":"modal-summary"},e.createElement("div",{className:m("_1A7Qv","_14Ejo",Li.scheduleTotal)},e.createElement("span",null,e.createElement(a,{id:"eligibility-modal.total",defaultMessage:"Total"})),e.createElement("span",null,e.createElement(r,{value:n,style:"currency",currency:"EUR"}))),e.createElement("div",{className:m("_1A7Qv","_1ZIgu",Li.scheduleCredit)},e.createElement("span",null,e.createElement(a,u?{id:"eligibility-modal.credit-cost",defaultMessage:"Dont coût du crédit"}:{id:"eligibility-modal.cost",defaultMessage:"Dont frais"})),e.createElement("span",{className:"_tUTZp"},u?e.createElement(a,{id:"eligibility-modal.credit-cost-amount",defaultMessage:"{creditCost} (TAEG {TAEG})",values:{creditCost:d.formatNumber(i,{style:"currency",currency:"EUR"}),TAEG:d.formatNumber(null!=s?s:0,{style:"percent",maximumFractionDigits:2})}}):e.createElement(r,{value:c,style:"currency",currency:"EUR"}))),u&&e.createElement("p",{className:"_1BUr8"},e.createElement(a,{id:"eligibility-modal.credit-commitment",defaultMessage:"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement\n              avant de vous engager."}))))},Hi=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"16",viewBox:"0 0 24 16"},e.createElement("defs",null,e.createElement("linearGradient",{id:"cardamex",x1:"10.914%",x2:"87.432%",y1:"86.279%",y2:"15.035%"},e.createElement("stop",{offset:"0%",stopColor:"#3FA9F5"}),e.createElement("stop",{offset:"100%",stopColor:"#0071BC"}))),e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("path",{fill:"url(#cardamex)",fillRule:"nonzero",d:"M22.559 16H1.379C.627 16 0 15.392 0 14.662V1.338C0 .608.627 0 1.379 0H22.62C23.373 0 24 .608 24 1.338v13.324c-.063.73-.627 1.338-1.441 1.338z"}),e.createElement("g",{fill:"#FFF"},e.createElement("path",{d:"M10.115 8.711L8.889 6.044H7.295v3.852L5.517 6.044H4.17l-1.778 4.03h1.103l.368-.889h2.023l.368.89h2.084V7.11l1.349 2.963h.92l1.348-2.904v2.904h.98v-4.03H11.28l-1.165 2.667zm-5.272-.474H4.23l.613-1.422v.06l.613 1.362h-.613z"}),e.createElement("path",{fillRule:"nonzero",d:"M19.372 7.94l.735-.77 1.042-1.185h-1.287L18.697 7.23l-1.164-1.245h-3.985v3.97h3.923l1.226-1.303 1.165 1.304h1.287L20.107 8.71l-.735-.77zM16.92 9.186h-2.33v-.77h2.268v-.77H14.59v-.712h2.33L18.084 8 16.92 9.185z"})))),Gi=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"16",viewBox:"0 0 24 16"},e.createElement("g",{fill:"none",fillRule:"nonzero"},e.createElement("path",{fill:"#FCFCFC",d:"M22.684 16H1.38C.627 16 0 15.39 0 14.656V1.344C0 .61.627 0 1.379 0H22.62C23.373 0 24 .61 24 1.344v13.374c0 .671-.564 1.282-1.316 1.282z"})," ",e.createElement("path",{fill:"#005098",d:"M8.889 10.726l.948-5.393h1.482l-.949 5.393zM15.704 5.452a3.658 3.658 0 0 0-1.304-.237c-1.481 0-2.489.71-2.489 1.778 0 .77.711 1.185 1.304 1.481.592.237.77.415.77.652 0 .355-.474.533-.889.533-.592 0-.889-.059-1.363-.296l-.177-.06-.178 1.186c.355.178 1.007.296 1.659.296 1.54 0 2.548-.71 2.548-1.837 0-.592-.415-1.067-1.244-1.481-.534-.237-.83-.415-.83-.652 0-.237.237-.474.83-.474.474 0 .83.118 1.126.178l.118.059.119-1.126M19.496 5.333H18.37c-.355 0-.592.119-.77.474l-2.193 4.919h1.541s.237-.652.296-.83h1.897c.059.178.178.83.178.83h1.362l-1.185-5.393zM17.66 8.77l.593-1.481s.118-.296.178-.533l.118.474s.296 1.303.356 1.54h-1.245zM7.644 5.333L6.222 9.007l-.178-.77C5.748 7.348 4.92 6.459 4.03 5.985l1.303 4.682h1.541l2.311-5.393h-1.54"}),e.createElement("path",{fill:"#F6A500",d:"M4.919 5.333h-2.37v.119c1.836.474 3.08 1.54 3.555 2.844L5.57 5.807c-.118-.414-.355-.474-.651-.474"}),e.createElement("path",{fill:"#0A5296",d:"M23.937 3.23H0V1.316C0 .598.627 0 1.379 0H22.62C23.373 0 24 .598 24 1.316V3.23h-.063z"}),e.createElement("path",{fill:"#F4A428",d:"M.063 13H24v1.8c0 .655-.625 1.2-1.375 1.2H1.375C.625 16 0 15.455 0 14.8V13h.063z"}))),Vi=()=>e.createElement("svg",{width:"24px",height:"16px",viewBox:"0 0 24 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{id:"Parcours-1C-B",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"mobile-1C-Paiement-V1",transform:"translate(-269.000000, -313.000000)"},e.createElement("g",{id:"mastercard",transform:"translate(269.000000, 313.000000)"},e.createElement("rect",{id:"Rectangle",fill:"#FFFFFF",x:"0",y:"0",width:"24",height:"16",rx:"1"}),e.createElement("g",{id:"Group-6",transform:"translate(4.000000, 3.000000)"},e.createElement("circle",{id:"Oval-4-Copy",fill:"#EA001B",cx:"5.05263158",cy:"5.05263158",r:"5.05263158"}),e.createElement("circle",{id:"Oval-4",fillOpacity:"0.25",fill:"#F79F1A",cx:"10.9473684",cy:"5.05263158",r:"5.05263158"}),e.createElement("circle",{id:"Oval-4-Copy-2",fillOpacity:"0.9",fill:"#F79F1A",cx:"10.9473684",cy:"5.05263158",r:"5.05263158"}),e.createElement("circle",{id:"Oval-4-Copy-3",fillOpacity:"0.3",fill:"#EA001B",cx:"5.05263158",cy:"5.05263158",r:"5.05263158"})))))),Bi=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"16",viewBox:"0 0 24 16"},e.createElement("defs",null,e.createElement("linearGradient",{id:"cardcb",x1:"5.842%",x2:"95.393%",y1:"81.753%",y2:"17.344%"},e.createElement("stop",{offset:"0%",stopColor:"#39B54A"})," ",e.createElement("stop",{offset:"100%",stopColor:"#0A5296"}))),e.createElement("g",{fill:"none",fillRule:"nonzero"},e.createElement("path",{fill:"url(#cardcb)",d:"M22.621 16H1.38C.627 16 0 15.392 0 14.662V1.338C0 .608.627 0 1.379 0H22.62C23.373 0 24 .608 24 1.338v13.324c-.063.73-.627 1.338-1.379 1.338z"}),e.createElement("g",{fill:"#FFF"},e.createElement("path",{d:"M19.094 4.03h-6.437V8h6.498c1.165 0 2.084-.889 2.084-2.015-.06-1.066-.98-1.955-2.145-1.955zM19.094 8.593h-6.437v3.97h6.498c1.165 0 2.084-.889 2.084-2.015-.06-1.067-.98-1.955-2.145-1.955zM7.017 8.06h4.966c-.245-2.371-2.391-4.267-4.966-4.267-2.758 0-5.027 2.074-5.027 4.681s2.269 4.682 5.027 4.682c2.698 0 4.904-2.015 5.027-4.563H7.017v-.534z"})))),Ui=({cards:t})=>{const n=Array.from(new Set(t));return e.createElement("div",{"data-testid":"card-logos",className:m("_1N3yO",Li.cardContainer)},n.map(t=>e.createElement("div",{key:t,className:"_83cGn","data-testid":"card-logo-"+t},"cb"===t&&e.createElement(Bi,null),"amex"===t&&e.createElement(Hi,null),"mastercard"===t&&e.createElement(Vi,null),"visa"===t&&e.createElement(Gi,null))))},qi=()=>e.createElement("div",{className:m("_180ro",Li.info),"data-testid":"modal-info-element"},e.createElement("div",{className:"_1HqCO"},e.createElement("div",{className:"_3B8wx"},"1"),e.createElement("div",{className:Li.infoMessage},e.createElement(a,{id:"eligibility-modal.bullet-1",defaultMessage:"Choisissez <strong>Alma</strong> au moment du paiement.",values:{strong:(...t)=>e.createElement("strong",null,t)}}))),e.createElement("div",{className:"_1HqCO"},e.createElement("div",{className:"_3B8wx"},"2"),e.createElement("div",{className:Li.infoMessage},e.createElement(a,{id:"eligibility-modal.bullet-2",defaultMessage:"Renseignez les <strong>informations</strong> demandées.",values:{strong:(...t)=>e.createElement("strong",null,t)}}))),e.createElement("div",{className:"_1HqCO"},e.createElement("div",{className:"_3B8wx"},"3"),e.createElement("div",{className:Li.infoMessage},e.createElement(a,{id:"eligibility-modal.bullet-3",defaultMessage:"La validation de votre paiement <strong>instantanée</strong> !",values:{strong:(...t)=>e.createElement("strong",null,t)}}))));var Zi;function Ji({className:t,color:n=Zi.MONOCHROME,monochrome:i=!0,underlineColor:a}){const r=i?Zi.MONOCHROME:Zi.ALMA;return e.createElement("svg",{className:t,width:"35",height:"23",viewBox:"0 0 40 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M6.38546 10.1313V10.029H4.92542C4.23835 10.029 3.72877 10.0972 3.39668 10.2337C3.07605 10.3587 2.91573 10.6374 2.91573 11.0695C2.91573 11.7177 3.37378 12.0418 4.28988 12.0418C5.05711 12.0418 5.59532 11.8826 5.9045 11.5642C6.22514 11.2344 6.38546 10.7568 6.38546 10.1313ZM3.72304 13.9182C2.64663 13.9182 1.85076 13.6567 1.33546 13.1335C0.820153 12.599 0.5625 11.911 0.5625 11.0695C0.5625 10.0574 0.894586 9.32958 1.55876 8.88606C2.22293 8.43118 3.23636 8.20374 4.59906 8.20374H6.38546V7.82846C6.38546 6.98693 5.84725 6.56616 4.77083 6.56616C3.80893 6.56616 3.27644 6.93007 3.17338 7.65788H0.768622C0.848781 6.78223 1.21522 6.04873 1.86794 5.45738C2.52066 4.86603 3.50547 4.57036 4.82236 4.57036C6.1278 4.57036 7.11261 4.86035 7.77678 5.44032C8.44095 6.0203 8.77304 6.83909 8.77304 7.89669V13.7135H6.60875V12.7241C6.09345 13.5202 5.13155 13.9182 3.72304 13.9182Z",fill:n}),e.createElement("path",{d:"M14.2554 11.6324V13.6965C14.0149 13.7306 13.763 13.7476 13.4996 13.7476C12.5492 13.7476 11.8736 13.5486 11.4728 13.1506C11.072 12.7412 10.8716 12.0873 10.8716 11.1889V0.919922H13.3107V11.0183C13.3107 11.2344 13.3508 11.3936 13.4309 11.496C13.5111 11.5983 13.6771 11.6495 13.929 11.6495C13.9863 11.6495 14.0493 11.6495 14.118 11.6495C14.1982 11.6381 14.244 11.6324 14.2554 11.6324Z",fill:n}),e.createElement("path",{d:"M23.8943 8.63019V13.7135H21.4552V8.40844C21.4552 7.23711 20.9742 6.65145 20.0123 6.65145C19.4512 6.65145 19.0161 6.82203 18.7069 7.16319C18.4092 7.50436 18.2603 7.9763 18.2603 8.57902V13.7135H15.8212V4.77506H18.0714V5.86678C18.5409 5.0025 19.4054 4.57036 20.6651 4.57036C21.856 4.57036 22.7263 4.99113 23.2759 5.83266C24.0432 4.99113 25.0394 4.57036 26.2647 4.57036C27.3182 4.57036 28.1255 4.89446 28.6867 5.54267C29.2478 6.19088 29.5283 7.05516 29.5283 8.13551V13.7135H27.0892V8.40844C27.0892 7.23711 26.6083 6.65145 25.6464 6.65145C25.0738 6.65145 24.6386 6.82772 24.3409 7.18025C24.0432 7.52141 23.8943 8.00473 23.8943 8.63019Z",fill:n}),e.createElement("path",{d:"M37.0321 10.1313V10.029H35.572C34.885 10.029 34.3754 10.0972 34.0433 10.2337C33.7227 10.3587 33.5623 10.6374 33.5623 11.0695C33.5623 11.7177 34.0204 12.0418 34.9365 12.0418C35.7037 12.0418 36.2419 11.8826 36.5511 11.5642C36.8717 11.2344 37.0321 10.7568 37.0321 10.1313ZM34.3696 13.9182C33.2932 13.9182 32.4974 13.6567 31.9821 13.1335C31.4668 12.599 31.2091 11.911 31.2091 11.0695C31.2091 10.0574 31.5412 9.32958 32.2054 8.88606C32.8695 8.43118 33.883 8.20374 35.2457 8.20374H37.0321V7.82846C37.0321 6.98693 36.4939 6.56616 35.4174 6.56616C34.4555 6.56616 33.923 6.93007 33.82 7.65788H31.4152C31.4954 6.78223 31.8618 6.04873 32.5145 5.45738C33.1673 4.86603 34.1521 4.57036 35.469 4.57036C36.7744 4.57036 37.7592 4.86035 38.4234 5.44032C39.0876 6.0203 39.4196 6.83909 39.4196 7.89669V13.7135H37.2554V12.7241C36.7401 13.5202 35.7781 13.9182 34.3696 13.9182Z",fill:n}),e.createElement("rect",{y:"20",width:"40",height:"3",fill:a||r}))}!function(e){e.ALMA="#FF414D",e.MONOCHROME="#00425D"}(Zi||(Zi={}));const Ki=()=>e.createElement("div",{className:"_3Oyv_"},e.createElement(Ji,{underlineColor:"#FF414D"})),Wi=({isSomePlanDeferred:t})=>e.createElement("div",{className:m("_3ERx-",Li.title),"data-testid":"modal-title-element"},e.createElement(a,t?{id:"eligibility-modal.title-deferred",defaultMessage:"<highlighted>Payez en plusieurs fois</highlighted> ou plus tard par carte bancaire avec Alma.",values:{highlighted:(...t)=>e.createElement("span",null,t)}}:{id:"eligibility-modal.title",defaultMessage:"<highlighted>Payez en plusieurs fois</highlighted> par carte bancaire avec Alma.",values:{highlighted:(...t)=>e.createElement("span",null,t)}})),Yi=({children:t,isSomePlanDeferred:n,cards:i})=>e.createElement("div",{className:"_21g6u","data-testid":"modal-container"},e.createElement("div",{className:m(["_3zaP5","_2SBRC",Li.leftSide])},e.createElement(Wi,{isSomePlanDeferred:n}),e.createElement(qi,null),i&&e.createElement(Ui,{cards:i}),e.createElement(Ki,null)),e.createElement("div",{className:m("_3zaP5",Li.rightSide)},t)),Qi=({children:t,isSomePlanDeferred:n,cards:i})=>e.createElement("div",{className:"_2G7Ch","data-testid":"modal-container"},e.createElement(Wi,{isSomePlanDeferred:n}),t,e.createElement(qi,null),i&&e.createElement(Ui,{cards:i}),e.createElement(Ki,null)),Xi=({initialPlanIndex:n,onClose:i,eligibilityPlans:r,status:l,cards:o})=>{const[s,c]=t(n||0),m=f({minWidth:800})?Yi:Qi,u=r.filter(e=>e.eligible),d=u[s],g=r.some(e=>e.deferred_days>0||e.deferred_months>0);return e.createElement(Ti,{onClose:i,ariaHideApp:!1,scrollable:!0,isOpen:!0},e.createElement(m,{isSomePlanDeferred:g,cards:o},l===ui.PENDING&&e.createElement("div",{className:"_2oTJq"},e.createElement(Ni,null)),l===ui.SUCCESS&&0===u.length&&e.createElement("div",{className:"_17qNJ"},e.createElement(a,{id:"eligibility-modal.no-eligibility",defaultMessage:"Oups, il semblerait que la simulation n'ait pas fonctionné."})),l===ui.SUCCESS&&u.length>=1&&e.createElement(e.Fragment,null,e.createElement(zi,{eligibilityPlans:u,currentPlanIndex:s,setCurrentPlanIndex:c}),e.createElement(ki,{currentPlan:d}))))},$i=({purchaseAmount:t,apiData:n,configPlans:i,onClose:a,cards:r})=>{const[l,o]=Ii(t,n,i);return e.createElement(Xi,{initialPlanIndex:0,onClose:a,eligibilityPlans:l,status:o,cards:r})},ea=({className:t})=>e.createElement("div",{className:m("_2SwwZ",t),"data-testid":"loader"},e.createElement("div",{className:"_2qODo"}),e.createElement("div",{className:"_2YO01"})),ta="alma-payment-plans",na={container:ta+"-container",eligibilityLine:ta+"-eligibility-line",eligibilityOptions:ta+"-eligibility-options",notEligibleOption:ta+"-not-eligible-option",paymentInfo:ta+"-payment-info",activeOption:ta+"-active-option"},ia=({apiData:i,configPlans:o,hideIfNotEligible:s,monochrome:c,purchaseAmount:u,suggestedPaymentPlan:d,cards:f,transitionDelay:p})=>{const[h,y]=Ii(u,i,o),b=h.filter(e=>e.eligible),v=(({suggestedPaymentPlan:e,eligibilityPlans:t})=>{const n=Array.isArray(e)?e:[e];for(const e in n){const i=n[e],a=t.findIndex(e=>e.installments_count===i&&e.eligible);if(-1!==a)return a}return 0})({eligibilityPlans:h,suggestedPaymentPlan:null!=d?d:0}),E=void 0!==d,C=void 0!==p,[A,O]=t(!1),w=h.reduce((e,t,n)=>t.eligible?[...e,n]:e,[]),{current:_,onHover:S,onLeave:P}=((e,i)=>{const[a,r]=t(0),[l,o]=t(!0);return n(()=>{let t=!0;return 0!==e.length&&(!e.includes(a)&&l&&r(e[0]),setTimeout(()=>{l&&t&&r(e[e.includes(a)?(e.indexOf(a)+1)%e.length:0])},i)),()=>{t=!1}},[e,a]),{current:a,onHover:e=>{r(e),o(!1)},onLeave:()=>{o(!0)}}})(w,C?null!=p?p:5500:E?31536e6:5500);return n(()=>{y===ui.SUCCESS&&E&&(S(v),P())},[y]),y===ui.PENDING?e.createElement("div",{className:m("_TSkFv","_1ZDMS")},e.createElement(ea,null)):s&&0===b.length||0===h.length||y===ui.FAILED?null:e.createElement(e.Fragment,null,e.createElement("div",{onClick:e=>{e.preventDefault(),b.length>0&&O(!0)},className:m("_TSkFv",{_UksZa:b.length>0,"_1lr-q":0===b.length},na.container),"data-testid":"widget-button"},e.createElement("div",{className:m("_bMClc",na.eligibilityLine)},e.createElement(Ji,{className:"_LJ4nZ",monochrome:c}),e.createElement("div",{className:m("_17c_S",na.eligibilityOptions)},h.map((t,n)=>{const i=n===_;return e.createElement("div",{key:n,onMouseEnter:()=>S(n),onMouseOut:P,className:m("_2Kqjn",{[m("_3dG_J",na.activeOption)]:i,_2icEF:!c&&i,[m("_3O1bg",na.notEligibleOption)]:!t.eligible})},Ri(t))}))),e.createElement("div",{className:m("_25GrF",{[m("_3O1bg",na.notEligibleOption)]:h[_]&&!h[_].eligible},na.paymentInfo)},0!==h.length&&(t=>{const{deferred_days:n,deferred_months:i,installments_count:o,eligible:s,purchase_amount:c,minAmount:m=0,maxAmount:u=0,payment_plan:d}=t,f=n+30*i;if(!s)return e.createElement(a,c>u?{id:"payment-plan-strings.ineligible-greater-than-max",defaultMessage:"Jusqu'à {maxAmount}",values:{maxAmount:e.createElement(r,{value:hi(u),style:"currency",currency:"EUR"})}}:{id:"payment-plan-strings.ineligible-lower-than-min",defaultMessage:"À partir de {minAmount}",values:{minAmount:e.createElement(r,{value:hi(m),style:"currency",currency:"EUR"})}});if(!d)throw Error(`No payment plan provided for payment in ${o} installments. Please contact us if you see this error.`);if(0!==f&&1===o)return e.createElement(e.Fragment,null,e.createElement(a,{id:"payment-plan-strings.deferred",defaultMessage:"{totalAmount} à payer le {dueDate}",values:{totalAmount:e.createElement(r,{value:hi(d[0].total_amount),style:"currency",currency:"EUR"}),dueDate:e.createElement(l,{value:g(d[0].due_date),day:"numeric",month:"long",year:"numeric"})}}),Fi(t));if(o>0){const n=null==d?void 0:d.every((e,t)=>0===t||e.total_amount===d[0].total_amount);return e.createElement(e.Fragment,null,e.createElement(a,n?{id:"payment-plan-strings.multiple-installments-same-amount",defaultMessage:"{installmentsCount} x {totalAmount}",values:{totalAmount:e.createElement(r,{value:hi(d[0].total_amount),style:"currency",currency:"EUR"}),installmentsCount:o}}:{id:"payment-plan-strings.multiple-installments",defaultMessage:"{numberOfRemainingInstallments, plural, one {{firstInstallmentAmount} puis {numberOfRemainingInstallments} x {othersInstallmentAmount}} other {{firstInstallmentAmount} puis {numberOfRemainingInstallments} x {othersInstallmentAmount}}}",values:{firstInstallmentAmount:e.createElement(r,{value:hi(d[0].total_amount),style:"currency",currency:"EUR"}),numberOfRemainingInstallments:o-1,othersInstallmentAmount:e.createElement(r,{value:hi(d[1].total_amount),style:"currency",currency:"EUR"})}}),Fi(t))}return e.createElement(a,{id:"payment-plan-strings.default-message",defaultMessage:"Payez en plusieurs fois avec Alma"})})(h[_]))),A&&e.createElement(Xi,{initialPlanIndex:(e=>{const t=w.findIndex(t=>t===e);return-1===t?0:t})(_),onClose:()=>O(!1),eligibilityPlans:b,status:y,cards:f}))};class aa{constructor(e){this.apiData=e}add(t,n){const i=document.querySelector(n.container);if(i&&s(i),t===mi.PaymentPlans){const{container:t,purchaseAmount:a,plans:r,transitionDelay:l,hideIfNotEligible:o,monochrome:s=!0,suggestedPaymentPlan:m,locale:u=di.en,cards:d}=n;i&&c(e.createElement(_i,{locale:u},e.createElement(ia,{apiData:this.apiData,configPlans:r,hideIfNotEligible:o,monochrome:s,purchaseAmount:a,suggestedPaymentPlan:m,cards:d,transitionDelay:l})),document.querySelector(t))}if(t===mi.Modal){const{container:t,clickableSelector:r,purchaseAmount:l,plans:o,locale:m=di.en,cards:u}=n,d=()=>i&&s(i),f=()=>{c(e.createElement(_i,{locale:m},e.createElement($i,{purchaseAmount:l,apiData:this.apiData,configPlans:o,onClose:d,cards:u})),document.querySelector(t))};var a;return r&&(null==(a=document.querySelector(r))||a.addEventListener("click",f,!1)),{open:f,close:d}}}}var ra,la,oa;!function(e){e.LIVE="https://api.getalma.eu",e.TEST="https://api.sandbox.getalma.eu"}(ra||(ra={})),function(e){e.initialize=function(e,t){return new aa({domain:t,merchantId:e})},e.PaymentPlans=mi.PaymentPlans,e.Modal=mi.Modal}(la||(la={})),function(e){e.priceToCents=pi,e.priceFromCents=hi,e.formatCents=yi}(oa||(oa={}));export{ra as ApiMode,oa as Utils,la as Widgets};
//# sourceMappingURL=widgets.modern.js.map
